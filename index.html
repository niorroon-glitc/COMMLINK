
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>CommLink | Tactical PWA</title>
  
  <!-- PWA Metadata -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0f172a">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="CommLink">
  <link rel="apple-touch-icon" href="https://img.icons8.com/fluency-systems-filled/192/84cc16/radio-tower.png">
  
  <!-- Librerías Externas -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>
  
  <!-- React & Babel para ejecución directa en navegador sin build -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --safe-area-top: env(safe-area-inset-top);
      --safe-area-bottom: env(safe-area-inset-bottom);
    }
    body {
      background-color: #0f172a;
      font-family: 'JetBrains Mono', monospace;
      margin: 0;
      padding: 0;
      height: 100dvh;
      overflow: hidden;
      position: fixed;
      width: 100%;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
    }
    .tactile-button-shadow {
      box-shadow: 0 10px 20px rgba(0,0,0,0.5), inset 0 1px 0 rgba(255,255,255,0.1);
    }
    .tactile-button-active {
      transform: translateY(2px) scale(0.98);
      box-shadow: 0 4px 8px rgba(0,0,0,0.6), inset 0 0 20px rgba(0,0,0,0.4);
    }
    .military-grid {
      background-image: 
        linear-gradient(rgba(132, 204, 22, 0.05) 1px, transparent 1px),
        linear-gradient(90deg, rgba(132, 204, 22, 0.05) 1px, transparent 1px);
      background-size: 30px 30px;
    }
    .scanline {
      width: 100%;
      height: 4px;
      background: linear-gradient(to bottom, transparent, rgba(132, 204, 22, 0.1), transparent);
      position: absolute;
      top: 0;
      animation: scan 6s linear infinite;
      z-index: 50;
      pointer-events: none;
    }
    @keyframes scan {
      0% { top: -5%; }
      100% { top: 105%; }
    }
    @keyframes animate-scan {
      0% { transform: translateY(-100%); }
      100% { transform: translateY(100%); }
    }
    .animate-scan {
      animation: animate-scan 2s linear infinite;
    }
    .font-orbitron { font-family: 'Orbitron', sans-serif; }
  </style>
<script type="importmap">
{
  "imports": {
    "react/": "https://esm.sh/react@^19.2.3/",
    "react": "https://esm.sh/react@^19.2.3",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/"
  }
}
</script>
</head>
<body class="military-grid">
  <div class="scanline"></div>
  <div id="root"></div>

  <!-- Lógica de la Aplicación -->
  <script type="text/babel">
    const { useState, useEffect, useRef, useCallback } = React;

    // --- CONSTANTES ---
    const THEMES = [
      { id: 'military', name: 'Tactical OD', primary: '#1e293b', secondary: '#334155', accent: '#84cc16', background: '#0f172a', text: '#f8fafc', glow: 'rgba(132, 204, 22, 0.5)' },
      { id: 'cyberpunk', name: 'Night City', primary: '#111827', secondary: '#1f2937', accent: '#f472b6', background: '#030712', text: '#ec4899', glow: 'rgba(244, 114, 182, 0.5)' },
      { id: 'stealth', name: 'Ghost Ops', primary: '#18181b', secondary: '#27272a', accent: '#ef4444', background: '#09090b', text: '#ffffff', glow: 'rgba(239, 68, 68, 0.5)' },
      { id: 'matrix', name: 'The Source', primary: '#022c22', secondary: '#064e3b', accent: '#22c55e', background: '#000000', text: '#4ade80', glow: 'rgba(34, 197, 94, 0.5)' }
    ];

    const TRANSLATIONS = {
      es: {
        sector_freq: "FRECUENCIA DE SECTOR",
        transmitting: "TRANSMITIENDO",
        hold_to_comm: "MANTENER PARA HABLAR",
        latched_on: "MICRO BLOQUEADO",
        ops_config: "CONFIGURACIÓN TÁCTICA",
        back: "REGRESAR",
        callsign_label: "IDENTIFICACIÓN (CALLSIGN)",
        freq_label: "CÓDIGO DE SALA (6 DÍGITOS)",
        theme_label: "TEMA DE VISUALIZACIÓN HUD",
        lang_label: "IDIOMA DEL SISTEMA",
        audio_fx_label: "EFECTOS DE RADIO (SQUELCH)",
        save_changes: "INICIALIZAR COMM-LINK",
        author_label: "AUTOR DEL CONCEPTO",
        node_secured: "NODO SEGURO",
        uplink_active: "UPLINK ACTIVO",
        downlink_active: "DOWNLINK ACTIVO",
        incoming: "COMUNICACIÓN ENTRANTE...",
        sync_title: "PUENTE DE FRECUENCIA",
        scan_btn: "ESCANEAR CÓDIGO",
        exit_sync: "SALIR DE INTERFAZ",
        hands_free: "MANO ALZADA",
        active_units: "UNIDADES ACTIVAS",
        fx_on: "ACTIVO",
        fx_off: "SILENCIO"
      },
      en: {
        sector_freq: "SECTOR FREQUENCY",
        transmitting: "TRANSMITTING",
        hold_to_comm: "HOLD TO COMM",
        latched_on: "MIC LATCHED ON",
        ops_config: "TACTICAL CONFIG",
        back: "RETURN",
        callsign_label: "PERSONAL ID (CALLSIGN)",
        freq_label: "ROOM CODE (6 DIGITS)",
        theme_label: "HUD VISUALIZATION THEME",
        lang_label: "SYSTEM LANGUAGE",
        audio_fx_label: "RADIO EFFECTS (SQUELCH)",
        save_changes: "INITIALIZE COMM-LINK",
        author_label: "CONCEPT AUTHOR",
        node_secured: "NODE SECURED",
        uplink_active: "UPLINK ACTIVE",
        downlink_active: "DOWNLINK ACTIVE",
        incoming: "INCOMING COMMS...",
        sync_title: "FREQUENCY BRIDGE",
        scan_btn: "SCAN ROOM CODE",
        exit_sync: "EXIT SYNC INTERFACE",
        hands_free: "HANDS FREE",
        active_units: "ACTIVE UNITS",
        fx_on: "ACTIVE",
        fx_off: "SILENT"
      }
    };

    // --- SERVICIO DE AUDIO (SQUELCH ENGINE) ---
    class AudioService {
      constructor() {
        this.ctx = null;
        this.isEnabled = true;
      }
      initCtx() {
        if (!this.ctx) this.ctx = new (window.AudioContext || window.webkitAudioContext)();
        if (this.ctx.state === 'suspended') this.ctx.resume();
      }
      createSquelchNoise(duration, volume) {
        if (!this.ctx) return;
        const bufferSize = this.ctx.sampleRate * duration;
        const buffer = this.ctx.createBuffer(1, bufferSize, this.ctx.sampleRate);
        const output = buffer.getChannelData(0);
        for (let i = 0; i < bufferSize; i++) output[i] = Math.random() * 2 - 1;
        const source = this.ctx.createBufferSource();
        source.buffer = buffer;
        const filter = this.ctx.createBiquadFilter();
        filter.type = 'bandpass';
        filter.frequency.value = 1000;
        filter.Q.value = 1.0;
        const gainNode = this.ctx.createGain();
        gainNode.gain.setValueAtTime(volume, this.ctx.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, this.ctx.currentTime + duration);
        source.connect(filter);
        filter.connect(gainNode);
        gainNode.connect(this.ctx.destination);
        source.start();
      }
      playBeep(type) {
        if (!this.isEnabled && type !== 'click') return;
        this.initCtx();
        if (type === 'start') {
          this.createSquelchNoise(0.15, 0.15);
          const osc = this.ctx.createOscillator();
          const g = this.ctx.createGain();
          osc.frequency.setValueAtTime(800, this.ctx.currentTime);
          g.gain.setValueAtTime(0.1, this.ctx.currentTime);
          g.gain.exponentialRampToValueAtTime(0.01, this.ctx.currentTime + 0.1);
          osc.connect(g); g.connect(this.ctx.destination);
          osc.start(); osc.stop(this.ctx.currentTime + 0.1);
        } else if (type === 'end') {
          this.createSquelchNoise(0.35, 0.12);
        } else if (type === 'receive') {
          this.createSquelchNoise(0.08, 0.08);
        } else if (type === 'click') {
          const osc = this.ctx.createOscillator();
          const g = this.ctx.createGain();
          osc.frequency.setValueAtTime(1200, this.ctx.currentTime);
          g.gain.setValueAtTime(0.05, this.ctx.currentTime);
          g.gain.exponentialRampToValueAtTime(0.001, this.ctx.currentTime + 0.03);
          osc.connect(g); g.connect(this.ctx.destination);
          osc.start(); osc.stop(this.ctx.currentTime + 0.03);
        }
      }
    }
    const audioService = new AudioService();

    // --- SERVICIO DE PEER ---
    class PeerService {
      constructor(onUpdate, onStream, onEnd) {
        this.peer = null;
        this.connections = new Map();
        this.calls = new Map();
        this.onUpdate = onUpdate;
        this.onStream = onStream;
        this.onEnd = onEnd;
      }
      async initialize(freq, callsign) {
        const id = `cl-${freq}-${callsign}-${Math.random().toString(36).substring(2, 6)}`;
        this.peer = new Peer(id, { debug: 1 });
        return new Promise((res, rej) => {
          this.peer.on('open', (id) => {
            this.peer.on('connection', c => this.handleConn(c));
            this.peer.on('call', call => {
              call.answer();
              call.on('stream', s => this.onStream(s, call.peer));
              call.on('close', () => this.onEnd(call.peer));
              this.calls.set(call.peer, call);
            });
            res(id);
          });
          this.peer.on('error', rej);
        });
      }
      handleConn(c) {
        c.on('open', () => { this.connections.set(c.peer, c); this.onUpdate(Array.from(this.connections.keys())); });
        c.on('close', () => { this.connections.delete(c.peer); this.onUpdate(Array.from(this.connections.keys())); });
      }
      broadcast(stream) {
        this.connections.forEach((_, id) => {
          const call = this.peer.call(id, stream);
          this.calls.set(id, call);
        });
      }
      stop() { this.calls.forEach(c => c.close()); this.calls.clear(); }
      destroy() { if (this.peer) this.peer.destroy(); }
    }

    // --- COMPONENTES UI ---

    const PttButton = ({ onStart, onEnd, active, theme, disabled, handsFree, t }) => (
      <div className="relative">
        {(active || handsFree) && <div className="absolute inset-0 rounded-full animate-ping opacity-25" style={{ backgroundColor: theme.accent }} />}
        <button
          onMouseDown={!handsFree ? onStart : undefined}
          onMouseUp={!handsFree ? onEnd : undefined}
          onTouchStart={e => { if (!handsFree) { e.preventDefault(); onStart(); } }}
          onTouchEnd={e => { if (!handsFree) { e.preventDefault(); onEnd(); } }}
          disabled={disabled}
          className={`relative w-48 h-48 rounded-full border-8 tactile-button-shadow transition-all flex flex-col items-center justify-center ${active || handsFree ? 'tactile-button-active' : ''} ${disabled ? 'opacity-50 grayscale' : ''}`}
          style={{ borderColor: active || handsFree ? theme.accent : theme.secondary, backgroundColor: active || handsFree ? theme.primary : theme.secondary, boxShadow: active || handsFree ? `0 0 40px ${theme.glow}` : '' }}
        >
          <svg className={`w-12 h-12 ${active || handsFree ? 'animate-pulse' : ''}`} fill="none" stroke="currentColor" viewBox="0 0 24 24" style={{ color: active || handsFree ? theme.accent : theme.text }}>
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" />
          </svg>
          <span className="mt-2 text-[10px] font-black uppercase tracking-widest text-center px-4" style={{ color: active || handsFree ? theme.accent : theme.text }}>
            {active || handsFree ? (handsFree ? t.latched_on : t.transmitting) : t.hold_to_comm}
          </span>
        </button>
      </div>
    );

    const App = () => {
      const [theme, setTheme] = useState(THEMES[0]);
      const [lang, setLang] = useState(localStorage.getItem('cl_lang') || 'es');
      const [audioFx, setAudioFx] = useState(localStorage.getItem('cl_audiofx') !== 'false');
      const [identity, setIdentity] = useState(JSON.parse(localStorage.getItem('cl_id')) || { callsign: 'RECRUIT', frequency: '444222' });
      const [peers, setPeers] = useState([]);
      const [status, setStatus] = useState('IDLE');
      const [receiving, setReceiving] = useState(false);
      const [handsFree, setHandsFree] = useState(false);
      const [showSettings, setShowSettings] = useState(false);

      const peerRef = useRef(null);
      const audioRef = useRef(null);
      const streamRef = useRef(null);
      const t = TRANSLATIONS[lang];

      useEffect(() => {
        localStorage.setItem('cl_lang', lang);
        localStorage.setItem('cl_audiofx', audioFx);
        localStorage.setItem('cl_id', JSON.stringify(identity));
        audioService.isEnabled = audioFx;
      }, [lang, audioFx, identity]);

      useEffect(() => {
        const init = async () => {
          if (peerRef.current) peerRef.current.destroy();
          setStatus('CONNECTING');
          const ps = new PeerService(
            setPeers,
            (s) => { setReceiving(true); audioService.playBeep('receive'); if (audioRef.current) audioRef.current.srcObject = s; },
            () => { setReceiving(false); audioService.playBeep('end'); }
          );
          try {
            await ps.initialize(identity.frequency, identity.callsign);
            peerRef.current = ps;
            setStatus('READY');
          } catch (e) { setStatus('ERROR'); }
        };
        init();
        return () => peerRef.current?.destroy();
      }, [identity.frequency]);

      const txStart = async () => {
        if (status !== 'READY' || receiving) return;
        try {
          const s = await navigator.mediaDevices.getUserMedia({ audio: true });
          streamRef.current = s; setStatus('TRANSMITTING');
          audioService.playBeep('start'); peerRef.current?.broadcast(s);
        } catch (e) { setHandsFree(false); }
      };

      const txEnd = () => {
        if (status !== 'TRANSMITTING') return;
        setStatus('READY'); audioService.playBeep('end');
        peerRef.current?.stop();
        if (streamRef.current) { streamRef.current.getTracks().forEach(t => t.stop()); streamRef.current = null; }
      };

      return (
        <div className="h-full flex flex-col p-8 z-10" style={{ color: theme.text }}>
          <audio ref={audioRef} autoPlay />
          
          <header className="flex justify-between items-start">
            <div>
              <h1 className="text-3xl font-black italic font-orbitron" style={{ color: theme.accent }}>COMMLINK</h1>
              <div className="flex items-center mt-2">
                <div className={`w-2 h-2 rounded-full mr-2 ${status === 'TRANSMITTING' || handsFree ? 'bg-orange-500 animate-pulse' : 'bg-green-500 animate-pulse'}`} />
                <span className="text-[10px] font-black uppercase tracking-widest opacity-70">
                  {status === 'TRANSMITTING' ? t.uplink_active : receiving ? t.downlink_active : t.node_secured}
                </span>
              </div>
            </div>
            <div className="text-right">
              <div className="text-[9px] font-black opacity-40">CALLSIGN</div>
              <div className="text-xl font-black" style={{ color: theme.accent }}>{identity.callsign}</div>
            </div>
          </header>

          <main className="flex-grow flex flex-col items-center justify-center space-y-12">
            <div className="p-6 border-2 rounded-xl text-center" style={{ borderColor: theme.accent, backgroundColor: theme.primary }}>
              <span className="text-[9px] font-black opacity-50 tracking-[0.3em]">{t.sector_freq}</span>
              <div className="text-5xl font-black font-orbitron tracking-widest mt-2" style={{ color: theme.accent }}>
                {identity.frequency.slice(0,3)}<span className="opacity-30">.</span>{identity.frequency.slice(3)}
              </div>
            </div>

            <PttButton onStart={txStart} onEnd={txEnd} active={status === 'TRANSMITTING'} theme={theme} disabled={receiving} handsFree={handsFree} t={t} />

            <button onClick={() => { audioService.playBeep('click'); setHandsFree(!handsFree); handsFree ? txEnd() : txStart(); }} className={`flex items-center space-x-3 px-6 py-3 border-2 rounded-lg transition-all ${handsFree ? 'animate-pulse' : 'opacity-60'}`} style={{ borderColor: handsFree ? theme.accent : theme.secondary }}>
              <div className={`w-3 h-3 rounded-full ${handsFree ? 'bg-orange-500' : 'bg-gray-600'}`} />
              <span className="text-[10px] font-black uppercase tracking-widest">{t.hands_free} {handsFree ? 'ON' : 'OFF'}</span>
            </button>
          </main>

          <footer className="flex justify-between items-center">
            <button onClick={() => setShowSettings(true)} className="p-4 border-2 rounded-xl" style={{ borderColor: theme.secondary }}>
              <svg className="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" style={{ color: theme.accent }}><path d="M12 15a3 3 0 100-6 3 3 0 000 6z"/><path fillRule="evenodd" d="M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 010-1.113zM17.25 12a5.25 5.25 0 11-10.5 0 5.25 5.25 0 0110.5 0z" clipRule="evenodd"/></svg>
            </button>
            <div className="text-[9px] font-black opacity-30 uppercase tracking-widest">Mc Wolf | Tactical Comm v5.0</div>
          </footer>

          {showSettings && (
            <div className="fixed inset-0 z-[100] bg-black/95 p-8 flex flex-col">
              <div className="flex justify-between items-center mb-10">
                <h2 className="text-2xl font-black italic" style={{ color: theme.accent }}>{t.ops_config}</h2>
                <button onClick={() => setShowSettings(false)} className="text-[10px] font-black uppercase tracking-widest border-2 px-4 py-2" style={{ borderColor: theme.accent }}>{t.back}</button>
              </div>

              <div className="space-y-8 flex-grow overflow-y-auto">
                <div>
                  <label className="text-[10px] font-black opacity-50 block mb-2">{t.callsign_label}</label>
                  <input value={identity.callsign} onChange={e => setIdentity({...identity, callsign: e.target.value.toUpperCase()})} className="w-full bg-black/40 border-2 p-4 text-xl font-black outline-none" style={{ borderColor: theme.secondary, color: theme.accent }} />
                </div>
                <div>
                  <label className="text-[10px] font-black opacity-50 block mb-2">{t.freq_label}</label>
                  <input value={identity.frequency} maxLength={6} onChange={e => setIdentity({...identity, frequency: e.target.value.replace(/\D/g,'')})} className="w-full bg-black/40 border-2 p-4 text-xl font-black outline-none tracking-widest" style={{ borderColor: theme.secondary, color: theme.accent }} />
                </div>
                <div className="flex space-x-4">
                  <div className="flex-1">
                    <label className="text-[10px] font-black opacity-50 block mb-2">{t.lang_label}</label>
                    <div className="flex border-2" style={{ borderColor: theme.secondary }}>
                      <button onClick={() => setLang('es')} className={`flex-1 py-3 text-[10px] font-black ${lang === 'es' ? 'bg-white/10' : 'opacity-40'}`}>ESP</button>
                      <button onClick={() => setLang('en')} className={`flex-1 py-3 text-[10px] font-black ${lang === 'en' ? 'bg-white/10' : 'opacity-40'}`}>ENG</button>
                    </div>
                  </div>
                  <div className="flex-1">
                    <label className="text-[10px] font-black opacity-50 block mb-2">{t.audio_fx_label}</label>
                    <button onClick={() => setAudioFx(!audioFx)} className={`w-full py-3 border-2 text-[10px] font-black transition-all ${audioFx ? 'border-green-500 text-green-500' : 'opacity-40'}`} style={{ borderColor: audioFx ? '' : theme.secondary }}>{audioFx ? t.fx_on : t.fx_off}</button>
                  </div>
                </div>
                
                <div>
                   <label className="text-[10px] font-black opacity-50 block mb-4">{t.theme_label}</label>
                   <div className="grid grid-cols-2 gap-2">
                      {THEMES.map(th => (
                        <button key={th.id} onClick={() => setTheme(th)} className={`p-3 border-2 flex items-center justify-between text-[9px] font-black ${theme.id === th.id ? '' : 'opacity-40 grayscale'}`} style={{ borderColor: theme.id === th.id ? th.accent : 'transparent', backgroundColor: th.primary, color: th.accent }}>
                          {th.name}
                        </button>
                      ))}
                   </div>
                </div>
              </div>

              <div className="mt-8 pt-8 border-t-2 border-white/5 flex flex-col items-center">
                 <span className="text-[10px] font-black opacity-30 mb-4">{t.author_label}</span>
                 <span className="text-xl font-black italic mb-4" style={{ color: theme.accent }}>Mc Wolf</span>
                 <div className="flex space-x-6">
                    <a href="https://www.facebook.com/share/1aJC2QMujs/" target="_blank" className="opacity-60 hover:opacity-100 transition-opacity"><svg className="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"/></svg></a>
                    <a href="https://www.instagram.com/mc_roony03?igsh=MW41bmh6ZmpyZXI4bg==" target="_blank" className="opacity-60 hover:opacity-100 transition-opacity"><svg className="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2c2.717 0 3.056.01 4.122.058 1.066.048 1.79.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.637.417 1.361.465 2.427.048 1.066.058 1.405.058 4.122s-.01 3.056-.058 4.122c-.048 1.066-.218 1.79-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.637.247-1.361.417-2.427.465-1.066.048-1.405.058-4.122.058s-3.056-.01-4.122-.058c-1.066-.048-1.79-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.637-.417-1.361-.465-2.427-.048-1.066-.058-1.405-.058-4.122s.01-3.056.058-4.122c.048-1.066.218-1.79.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 3.058c.637-.247 1.361-.417 2.427-.465C8.944 2.01 9.283 2 12 2zm0 5a5 5 0 100 10 5 5 0 000-10zm6.5-.25a1.25 1.25 0 10-2.5 0 1.25 1.25 0 002.5 0zM12 9a3 3 0 110 6 3 3 0 010-6z"/></svg></a>
                 </div>
              </div>
            </div>
          )}
        </div>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);

    // Registrar Service Worker
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('sw.js').then(reg => console.log('SW Active')).catch(err => console.log('SW Error'));
      });
    }
  </script>
</body>
</html>
